<!DOCTYPE html>

<html>
<head>
	<title>Example 01.01 - Basic skeleton</title>
	<script type="text/javascript" src="libs/three.js"></script>
	<script type="text/javascript" src="libs/stats.js"></script>
	<script type="text/javascript" src="libs/dat.gui.js"></script>
	<script type="text/javascript" src="libs/jquery-1.9.0.js"></script>
	<style>
		body {
			margin: 0;
			overflow: hidden;
		}

	</style>
</head>	
<body>
	<div id="Stats-output"></div>
	<div id="WebGL-output"></div>

	<script type="text/javascript">

	function init(){
		//var stats = initStats();

		var scene = new THREE.Scene();//场景，保存并跟踪渲染的物体
		scene.fog = new THREE.Fog(0xffffff,0,015,100);

		var camera = new THREE.PerspectiveCamera(45,window.innerWidth / window.innerHeight,0.1,1000);//定义了渲染好的scene看到什么

		var renderer = new THREE.WebGLRenderer();//负责计算指定相机角度下浏览器中scene的样子
		renderer.setClearColorHex(0xEEE3EE,1.0);//背景色
		renderer.setSize(window.innerWidth,window.innerHeight);
		//renerer.shadowMapEnabled = true;

		var axes = new THREE.AxisHelper(20);
		scene.add(axes);

		var planeGeomatry = new THREE.PlaneGeometry(60,40,1,1);//定义平面尺寸
		var planeMaterial = new THREE.MeshLambertMaterial({color:0xcccccc});//外观材质
		var plane = new THREE.Mesh(planeGeomatry,planeMaterial);//合并到网格对象中
		                                                        //
		plane.receiveShadow = true;//接受投影

		//旋转后放入场景
		plane.rotation.x = -0.5 * Math.PI;
		plane.position.x = 0;
        plane.position.y = 0;
        plane.position.z = 0;

        scene.add(plane);

        //方块
        var cubeGeometry = new THREE.CubeGeometry(4,4,4);
        var cubeMaterial = new THREE.MeshLambertMaterial({color:0xff0000,wireframe:true});
        var cube = new THREE.Mesh(cubeGeometry,cubeMaterial);
		cube.castShadow = true;//投影阴影

        cube.position.x = -4;
        cube.position.y = 3;
        cube.position.z = 0;

        scene.add(cube);


        //球体
        var sphereGeometry = new THREE.SphereGeometry(4,20,20);
        var sphereMaterial = new THREE.MeshLambertMaterial({color:0x7777ff,wireframe:true});
        var sphere = new THREE.Mesh(sphereGeometry,sphereMaterial);
		sphere.castShadow = true;

        sphere.position.x = 20;
        sphere.position.y = 4;
        sphere.position.z = 2;

        scene.add(sphere);
        	
        camera.position.x = -30;//指定相机位置
		camera.position.y = 40;
        camera.position.z = 30;
        camera.lookAt(scene.position);//指向场景中心 

		var sportLight = new THREE.SpotLight(0xffffff);
		sportLight.position.set(-40,60,-10);
		sportLight.castShadow = true;//设置可投影光源
		scene.add(sportLight);
		        
        $("#WebGL-output").append(renderer.domElement);
        renderer.render(scene,camera);

        // document.getElementById("WebGL-output").appendChild(renderer.domElement);

        // function initStats(){
        // 	var stats = new Stats();
        // 	stats.setMode(0);

        // 	stats.domElement.style.position = 'absolute';
        // 	stats.domElement.style.left = '0px';
        // 	stats.domElement.style.top = '0px';

        // 	document.getElementById("Stats-output").appendChild(stats.domElement);
        // 	return stats;

        // }                    	     
	}

window.onload = init

</script>
</body>
</html>